# Домашнее задание к занятию "5.1. Введение в виртуализацию. Типы и функции гипервизоров. Обзор рынка вендоров и областей применения."

## 1.

- полная аппаратная виртуализация использует свой гипервизор, ставится на железо и позволяет гибко управлять виртуальными машинами, ставить на них различные ОС
- паравиртуализация это когда гипервизор ставится на уже установленную ОС, в этом случае могут возникать различные трудности с работой виртуальных машин, отличных от семейства хостовой ОС
- виртуализация на основе ОС это как правило контейнеры, они используют общее ядро с хостовой машиной, а также некоторые общие ресурсы

## 2.

- Высоконагруженная база данных, чувствительная к отказу.
эффективнее использовать либо физический сервер, либо полную аппаратную виртуализацию (при условии что все виртуальные машины состоят в группе БД), для того чтобы не мешать работать другим виртуальным машинам


         
- Различные web-приложения.
логичнее использовать контейнеры, так как в этом случае будет более эффективное использование ресурсов, плюс возможность быстрого масштабирования

- Windows системы для использования бухгалтерским отделом.
здесь будет удобна паравиртуализация, в частности hyper-v в режиме сервиса, установленного на windows server.
удобство администрирования, быстрое развертывание

        
- Системы, выполняющие высокопроизводительные расчеты на GPU.
здесь однозначно нужно использовать физические сервера, проверено на майнинге) видеокарты тяжело пробрасываются в виртуальные машины и драйвера менее эффективно с ними работают


## 3.

- 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного 
механизма создания резервных копий.

так как цена продукта не оговорена, то можно использовать кластер vmware vsphere, множество функций репликаций и переноса машин уже встроено, но для этого нужен высококвалифицированный специалист

- Требуется наиболее производительное бесплатное open source решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.

Proxmox, подходит по всем параметрам, плюс удобство в администрировании


- Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры.

так как Hyper-V и Citrix платные, то вероятно наиболее эффективное решение это QEMU/KVM, из бесплатных решений насколько я понял оно самое производительное. либо можно использовать облако azure. 
ESXi позволяет использовать 8 ядер на виртуальную машину бесплатно, если этого достаточно для решения задач, то можно использовать и это


- Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.

Docker или LXC, легко создаются и удаляются контейнеры, отличная совместимость с linux


## 4.

Если допустим рассматривать вариант работы докера в виртуальной машине esxi, то такую гетерогенную среду я бы использовал, тут вообще проблем нет, ресурсы контейнера используются эффективно, образы контейнеров лежат в стороннем 
репозитории, а сами виртуальные машины разделены по какому-нибудь признаку, то есть необходимо бекапить только ресурсы которые хранятся локально (базы или конфиги).
Основной минус аппаратной виртуализации состоит в единой точке отказа, а также возможна ситуация когда случайными действиями администратора сломалась сеть и в таком случае удалённый доступ к гипервизору и всем машинам потерян. для 
минимизации таких рисков необходимо использовать бекапы, репликации и кластеризацию и различные системы удаленного доступа ipmi/kvm. Основной минус паравиртуализации - это зависимость от ОС, любое некорректное обновление хостовой ос 
может привести к потере всех данных. Основной минус виртуализации на уровне ОС это слабая поддержка сред с графическим интерфейсом и зависимость от ядра хостовой системы
